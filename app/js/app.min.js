import*as data from"./data.js";let countFriends,listChanels,allMessages=data.messages,allUsers=data.users,friends=data.friends;function generate(e){let s="";for(let l in e)s+='<div class="line">',s+='<div class="line-date">'+e[l].date+"</div>",s+="</div>",s+='<div class="message">',s+=`<img alt="${e[l].name}" class="message__photo" src="${e[l].photo}">`,s+='<div class="text d-flex flex-column">',s+='<div class="d-flex mb-1">',s+='<p class="message__name">'+e[l].name+"</p>",s+='<p class="message__time">'+e[l].time+"</p>",s+="</div>",s+='<p class="message__text">'+e[l].text+"</p>",s+="</div>",s+="</div>";document.getElementById("example").innerHTML=s}function generateFriends(e){let s="";for(let l in e)s+='<div class="people max d-flex align-items-center">',s+='<div class="people__status people__status--online status"></div>',s+='<div class="people__photo">',s+=`<img src="${e[l].photo}" class="people__img" alt="${e[l].name}">`,s+="</div>",s+=`<div class="people__name">${e[l].name}</div>`,s+="</div>";document.getElementById("friends").innerHTML=s}listChanels=document.getElementsByClassName("channels__item"),listChanels=listChanels.length,document.getElementById("listChanels").innerHTML=listChanels,generate(allMessages),generateFriends(friends);let statusOnline=document.getElementsByClassName("people__status");for(let e=0;e<statusOnline.length;e++)friends[e].online||(statusOnline[e].classList.remove("people__status--online"),statusOnline[e].classList.add("people__status--offline"));countFriends=document.getElementsByClassName("people"),countFriends=countFriends.length,document.getElementById("countFriends").innerHTML=countFriends,function(){let e=document.getElementById("search");e.addEventListener("keydown",(function(s){if("Enter"!==s.key||""==e.value)return!1;generate(allMessages.filter((s=>s.text===e.value))),this.value=""}))}();for(let e in allMessages){Object.values(allMessages[e]);let s=allMessages[e].text.split();(e=>{s.filter((s=>s.toLowerCase().indexOf(e.toLowerCase())>-1))})("Wo")}!function(){let e=document.getElementById("addMessage");e.addEventListener("keydown",(function(s){if("Enter"!==s.key)return;if(""==e.value)return;let l=new Date;const n={id:allMessages[allMessages.length-1].id+1,name:"Sergey",time:l.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),date:"Today",text:e.value,photo:"https://www.meme-arsenal.com/memes/ed0607a33edc9e0f8fe179c05fa0cf7f.jpg"};allMessages.push(n),generate(allMessages),this.value=""}))}();let listFriends=document.getElementsByClassName("people"),newUser=[],infouser=document.getElementById("infouser"),allFriends=document.getElementsByClassName("people");for(let e=1;e<allFriends.length;e++)allFriends[e].addEventListener("click",(function(s){for(let s in allUsers)newUser+='<div class="infouser">',newUser+=`<img alt="${allUsers[s].photo}" class="infouser__photo" src="${allUsers[s].photo}">`,newUser+='<div class="info-column">',newUser+='<p class="info-column__name">'+allUsers[s].name+"</p>",newUser+='<p class="info-column__profession">'+allUsers[s].profession+"</p>",newUser+='<ul class="social d-flex">',newUser+='<li class="social__item social__item--fb"></li>',newUser+='<li class="social__item social__item--tw"></li>',newUser+='<li class="social__item social__item--ins"></li>',newUser+='<li class="social__item social__item--in"></li>',newUser+="</ul>",newUser+='<div class="message d-flex align-items-center">',newUser+='<button class="message__btn">Message</button>',newUser+='<button class="message__more"></button>',newUser+="</div>",newUser+='<div class="username">',newUser+='<p class="username__description">Username</p>',newUser+='<p class="username__title">'+allUsers[s].username+"</p>",newUser+="</div>",newUser+='<div class="email">',newUser+='<p class="email__description">Email</p>',newUser+='<p class="email__title">'+allUsers[s].email+"</p>",newUser+="</div>",newUser+='<div class="skype">',newUser+='<p class="skype__description">Skype</p>',newUser+='<p class="skype__title">'+allUsers[s].skype+"</p>",newUser+="</div>",newUser+='<div class="timezone">',newUser+='<p class="timezone__description">Timezone</p>',newUser+='<p class="timezone__time">'+allUsers[s].timezone+"</p>",newUser+="</div>",newUser+="</div>",newUser+="</div>",listFriends[e].id,allUsers[s].id,allUsers[e].flag=document.getElementById("infouser").innerHTML=newUser}));